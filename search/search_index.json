{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"python-clean-architecture \u00b6 pca-scaffold \u00b6 Scaffolding template for a python-clean-architecture package. Documentation: https://pcah.github.io/pca-scaffold GitHub: https://github.com/pcah/pca-scaffold PyPI: https://pypi.org/project/pca-scaffold/ Free software: BSD-3-Clause Features \u00b6 This tool will create Python project with the following features: Poetry : Manage dependency, build and release Mkdocs : Writing your docs in markdown style Testing with Pytest (unittest is still supported out of the box) Code coverage report and endorsed by Codecov Tox : Test your code against environment matrix, lint and artifact check Format with Black and Isort Lint code with Flake8 and Flake8-docstrings Check static type with Mypy (optional) Pre-commit hooks : Formatting/linting anytime when commit your code Mkdocstrings : Auto API doc generation Command line interface using Click (optional) bump2version : Pre-configured version bumping with a single command Continuous Integration/Deployment by GitHub actions , includes: publish dev build/official release to TestPyPI/PyPI automatically when CI success publish documents automatically when CI success extract changelog from CHANGELOG and integrate with release notes automatically Host your documentation from GitHub Pages with zero-config Quickstart \u00b6 Install the latest Cookiecutter if you haven't installed it yet (this requires Cookiecutter 1.4.0 or higher): 1 pip install -U cookiecutter Generate a Python package project: 1 cookiecutter https://github.com/pcah/pca-scaffold.git Then follow Tutorial to finish other configurations. Credits \u00b6 This repo is forked from waynerv/cookiecutter-pypackage , which originally forked from audreyfeldroy/cookiecutter-pypackage , and custom adjustments for python-clean-architecture by pcah .","title":"Introduction"},{"location":"#python-clean-architecture","text":"","title":"python-clean-architecture"},{"location":"#pca-scaffold","text":"Scaffolding template for a python-clean-architecture package. Documentation: https://pcah.github.io/pca-scaffold GitHub: https://github.com/pcah/pca-scaffold PyPI: https://pypi.org/project/pca-scaffold/ Free software: BSD-3-Clause","title":"pca-scaffold"},{"location":"#features","text":"This tool will create Python project with the following features: Poetry : Manage dependency, build and release Mkdocs : Writing your docs in markdown style Testing with Pytest (unittest is still supported out of the box) Code coverage report and endorsed by Codecov Tox : Test your code against environment matrix, lint and artifact check Format with Black and Isort Lint code with Flake8 and Flake8-docstrings Check static type with Mypy (optional) Pre-commit hooks : Formatting/linting anytime when commit your code Mkdocstrings : Auto API doc generation Command line interface using Click (optional) bump2version : Pre-configured version bumping with a single command Continuous Integration/Deployment by GitHub actions , includes: publish dev build/official release to TestPyPI/PyPI automatically when CI success publish documents automatically when CI success extract changelog from CHANGELOG and integrate with release notes automatically Host your documentation from GitHub Pages with zero-config","title":"Features"},{"location":"#quickstart","text":"Install the latest Cookiecutter if you haven't installed it yet (this requires Cookiecutter 1.4.0 or higher): 1 pip install -U cookiecutter Generate a Python package project: 1 cookiecutter https://github.com/pcah/pca-scaffold.git Then follow Tutorial to finish other configurations.","title":"Quickstart"},{"location":"#credits","text":"This repo is forked from waynerv/cookiecutter-pypackage , which originally forked from audreyfeldroy/cookiecutter-pypackage , and custom adjustments for python-clean-architecture by pcah .","title":"Credits"},{"location":"console_script_setup/","text":"Console Script Setup \u00b6 Optionally, your package can include a console script using Click . How It Works \u00b6 If the command_line_interface option is set to click during setup, cookiecutter will add a file cli.py in the pkg_name subdirectory. An entry point is added to pyproject.toml that points to the main function in cli.py. Usage \u00b6 To use the console script in development: 1 poetry install Then execute: 1 $project_slug --help it will show your package name, project short description and exit. More Details \u00b6 You can read more about Python Click at Click .","title":"Console script"},{"location":"console_script_setup/#console-script-setup","text":"Optionally, your package can include a console script using Click .","title":"Console Script Setup"},{"location":"console_script_setup/#how-it-works","text":"If the command_line_interface option is set to click during setup, cookiecutter will add a file cli.py in the pkg_name subdirectory. An entry point is added to pyproject.toml that points to the main function in cli.py.","title":"How It Works"},{"location":"console_script_setup/#usage","text":"To use the console script in development: 1 poetry install Then execute: 1 $project_slug --help it will show your package name, project short description and exit.","title":"Usage"},{"location":"console_script_setup/#more-details","text":"You can read more about Python Click at Click .","title":"More Details"},{"location":"contributing/","text":"python-clean-architecture \u00b6 Contributing Guideline \u00b6 First off, thanks for taking the time to contribute! The following is a set of guidelines for contributing to pca-scaffold on GitHub. These are mostly guidelines, not rules. Use your best judgement, and feel free to propose changes to this document in a pull request. Table of contents \u00b6 Contributing Guideline Table of contents How to contribute Reporting bugs Before submitting a bug report How do I submit a bug report? Suggesting enhancements Before submitting an enhancement suggestion How do I submit an Enhancement suggestion? Contributing to the code Local development Local testing Pull requests How to contribute \u00b6 Reporting bugs \u00b6 This section guides you through submitting a bug report for pca-scaffold . Following these guidelines helps maintainers and the community understand your report, reproduce the behavior, and find related reports. Before submitting a bug report \u00b6 ... check that your issue does not already exist in the issue tracker . Note: If you find a Closed issue that seems like it is the same thing that you're experiencing, open a new issue and include a link to the original issue in the body of your new one. How do I submit a bug report? \u00b6 Bugs are tracked on the issue tracker where you can create a new one and provide the following information by filling in the bug report template . Explain the problem and include additional details to help maintainers reproduce the problem: Use a clear and descriptive title for the issue to identify the problem. Describe the exact steps which reproduce the problem in as many details as possible. Provide specific examples to demonstrate the steps to reproduce the issue . Include links to files or GitHub projects, or copy-paste-able snippets, which you use in those examples. Describe the behavior you observed after following the steps and point out what exactly is the problem with that behavior. Explain which behavior you expected to see instead and why. Provide more context by answering these questions: Did the problem start happening recently (e.g. after updating to a new version of pca-scaffold ) or was this always a problem? If the problem started happening recently, can you reproduce the problem in an older version of pca-scaffold ? What's the most recent version in which the problem doesn't happen? Can you reliably reproduce the issue? If not, provide details about how often the problem happens and under which conditions it normally happens. Include details about your configuration and environment: Which version of pca-scaffold are you using? You can get the exact version by running poetry version in the library repository. Which Python version pca-scaffold has been installed for? Execute the python -V to get the information. What's the name and version of the OS you're using ? Suggesting enhancements \u00b6 This section guides you through submitting an enhancement suggestion for pca-scaffold , including completely new features and minor improvements to existing functionality. Following these guidelines helps maintainers and the community understand your suggestion and find related suggestions. Before submitting an enhancement suggestion \u00b6 Check the FAQs for a list of common questions and problems. Check that your idea of the enhancement does not already exist in the issue tracker . How do I submit an Enhancement suggestion? \u00b6 Enhancement suggestions are tracked on the issue tracker where you can create a new one and provide the following information: Use a clear and descriptive title for the issue to identify the suggestion. Provide a step-by-step description of the suggested enhancement in as many details as possible. Provide specific examples to demonstrate the steps . Describe the current behavior and explain which behavior you expected to see instead and why. Contributing to the code \u00b6 Local development \u00b6 You will first need to ensure you have all the tools of the dev environment installed to start contributing on the {{cookiecutter.project_slug}} codebase: git poetry cookiecutter Python with 3.7 , 3.8 , 3.9 & 3.10 versions PyPy3.x Then, clone the repository using git and place yourself in its directory: 1 2 git clone git@github.com:pcah/pca-scaffold.git cd pca-scaffold Now, you will need to install the required dependencies for pca-scaffold : 1 poetry install -E dev -E test -E docs Then, ensure that project's test suite is passing: 1 poetry run tox To change your python version, use poetry 's environment management . Local testing \u00b6 To run the whole test suite, use: 1 poetry run tox To run the test suite under specific development environment, use: 1 poetry run tox -e VERSION where VERSION becomes one of the py310|py39|py38|py37|pypy3 (for details, check tox.ini ). To check code styling rules, run linters: 1 poetry run pre-commit run -a pca-scaffold uses the black coding formatter, and you must ensure that your code follows it. If not, the CI will fail and your Pull Request will not be merged. Similarly, the import statements are sorted with isort and special care must be taken to respect it. If you don't, the CI will fail as well. Python code style is guarded with flake8 . Documentation style is guarded with markdownlint . Both of them will fail your build, if you don't follow their rules. To make sure that you don't accidentally commit code that does not follow the coding style, you can install a pre-commit hook that will check that everything is in order: 1 poetry run pre-commit install --install-hooks Your code must always be accompanied by corresponding tests, if tests are not present your code will not be merged. Pull requests \u00b6 Fill in the pull request template . Be sure your commit messages respects the commit message template . Be sure that your pull request contains tests that cover the changed or added code. If your changes warrant a documentation change, the pull request must also update the documentation.","title":"Contributing"},{"location":"contributing/#python-clean-architecture","text":"","title":"python-clean-architecture"},{"location":"contributing/#contributing-guideline","text":"First off, thanks for taking the time to contribute! The following is a set of guidelines for contributing to pca-scaffold on GitHub. These are mostly guidelines, not rules. Use your best judgement, and feel free to propose changes to this document in a pull request.","title":"Contributing Guideline"},{"location":"contributing/#table-of-contents","text":"Contributing Guideline Table of contents How to contribute Reporting bugs Before submitting a bug report How do I submit a bug report? Suggesting enhancements Before submitting an enhancement suggestion How do I submit an Enhancement suggestion? Contributing to the code Local development Local testing Pull requests","title":"Table of contents"},{"location":"contributing/#how-to-contribute","text":"","title":"How to contribute"},{"location":"contributing/#reporting-bugs","text":"This section guides you through submitting a bug report for pca-scaffold . Following these guidelines helps maintainers and the community understand your report, reproduce the behavior, and find related reports.","title":"Reporting bugs"},{"location":"contributing/#before-submitting-a-bug-report","text":"... check that your issue does not already exist in the issue tracker . Note: If you find a Closed issue that seems like it is the same thing that you're experiencing, open a new issue and include a link to the original issue in the body of your new one.","title":"Before submitting a bug report"},{"location":"contributing/#how-do-i-submit-a-bug-report","text":"Bugs are tracked on the issue tracker where you can create a new one and provide the following information by filling in the bug report template . Explain the problem and include additional details to help maintainers reproduce the problem: Use a clear and descriptive title for the issue to identify the problem. Describe the exact steps which reproduce the problem in as many details as possible. Provide specific examples to demonstrate the steps to reproduce the issue . Include links to files or GitHub projects, or copy-paste-able snippets, which you use in those examples. Describe the behavior you observed after following the steps and point out what exactly is the problem with that behavior. Explain which behavior you expected to see instead and why. Provide more context by answering these questions: Did the problem start happening recently (e.g. after updating to a new version of pca-scaffold ) or was this always a problem? If the problem started happening recently, can you reproduce the problem in an older version of pca-scaffold ? What's the most recent version in which the problem doesn't happen? Can you reliably reproduce the issue? If not, provide details about how often the problem happens and under which conditions it normally happens. Include details about your configuration and environment: Which version of pca-scaffold are you using? You can get the exact version by running poetry version in the library repository. Which Python version pca-scaffold has been installed for? Execute the python -V to get the information. What's the name and version of the OS you're using ?","title":"How do I submit a bug report?"},{"location":"contributing/#suggesting-enhancements","text":"This section guides you through submitting an enhancement suggestion for pca-scaffold , including completely new features and minor improvements to existing functionality. Following these guidelines helps maintainers and the community understand your suggestion and find related suggestions.","title":"Suggesting enhancements"},{"location":"contributing/#before-submitting-an-enhancement-suggestion","text":"Check the FAQs for a list of common questions and problems. Check that your idea of the enhancement does not already exist in the issue tracker .","title":"Before submitting an enhancement suggestion"},{"location":"contributing/#how-do-i-submit-an-enhancement-suggestion","text":"Enhancement suggestions are tracked on the issue tracker where you can create a new one and provide the following information: Use a clear and descriptive title for the issue to identify the suggestion. Provide a step-by-step description of the suggested enhancement in as many details as possible. Provide specific examples to demonstrate the steps . Describe the current behavior and explain which behavior you expected to see instead and why.","title":"How do I submit an Enhancement suggestion?"},{"location":"contributing/#contributing-to-the-code","text":"","title":"Contributing to the code"},{"location":"contributing/#local-development","text":"You will first need to ensure you have all the tools of the dev environment installed to start contributing on the {{cookiecutter.project_slug}} codebase: git poetry cookiecutter Python with 3.7 , 3.8 , 3.9 & 3.10 versions PyPy3.x Then, clone the repository using git and place yourself in its directory: 1 2 git clone git@github.com:pcah/pca-scaffold.git cd pca-scaffold Now, you will need to install the required dependencies for pca-scaffold : 1 poetry install -E dev -E test -E docs Then, ensure that project's test suite is passing: 1 poetry run tox To change your python version, use poetry 's environment management .","title":"Local development"},{"location":"contributing/#local-testing","text":"To run the whole test suite, use: 1 poetry run tox To run the test suite under specific development environment, use: 1 poetry run tox -e VERSION where VERSION becomes one of the py310|py39|py38|py37|pypy3 (for details, check tox.ini ). To check code styling rules, run linters: 1 poetry run pre-commit run -a pca-scaffold uses the black coding formatter, and you must ensure that your code follows it. If not, the CI will fail and your Pull Request will not be merged. Similarly, the import statements are sorted with isort and special care must be taken to respect it. If you don't, the CI will fail as well. Python code style is guarded with flake8 . Documentation style is guarded with markdownlint . Both of them will fail your build, if you don't follow their rules. To make sure that you don't accidentally commit code that does not follow the coding style, you can install a pre-commit hook that will check that everything is in order: 1 poetry run pre-commit install --install-hooks Your code must always be accompanied by corresponding tests, if tests are not present your code will not be merged.","title":"Local testing"},{"location":"contributing/#pull-requests","text":"Fill in the pull request template . Be sure your commit messages respects the commit message template . Be sure that your pull request contains tests that cover the changed or added code. If your changes warrant a documentation change, the pull request must also update the documentation.","title":"Pull requests"},{"location":"faq/","text":"Question Explain these GitHub workflows .yml files? \u00b6 dev.yml : define dev workflow, run on every push and pull requests to master, basically run all the tests against multiple versions and platforms. preview.yml : define stage & preview workflow, run on every push to master, publish dev build to TestPyPI. release.yml : define release & publish workflow, run on every tag push, create GitHub release, publish docs to GitHub Pages and built package to PyPI. Question Why not travis CI? \u00b6 Travis CI is a great service, however, GitHub actions is super convenient, less configuration, better integration. Less configuration, less error prone. Question Why not read the docs? \u00b6 Same reason as above. GitHub Pages is convenient than read the docs, it requires no further configuration, except access token. As to read the docs, you need to write v2 config file, plus several settings on web pages. Question Why mkdocs over sphinx? \u00b6 reStructured Text and Sphinx is way too tedious, though powerful. With extension, you'll find almost all features are available in mkdocs, in a neat and productive way. Poetry and Markdown, are the two key factors driven me develop this template. Question What are the configuration items? \u00b6 [TBDL] <!-- Here is a list: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 ## Templated Values The following appear in various parts of your generated project. project_name The name of your new Python package project. This is used in documentation, so spaces and any characters are fine here. project_slug The name of your Python package for PyPI, also as the repository name of GitHub. Typically, it is the slugified version of project_name. pkg_name The namespace of your Python package. This should be Python import-friendly. project_short_description A 1-sentence description of what your Python package does. full_name Your full name. email Your email address. GitHub_username Your GitHub username. version The starting version number of the package. use_mypy If use mypy for static type check in pre-commit hooks and tox. install_precommit_hooks If you choose yes, then cookiecutter will install pre-commit hooks for you. docstrings_style one of `google, numpy, pep257`. It's required by flake8-docstrings. ## Options The following package configuration options set up different features for your project. command_line_interface Whether to create a console script using Python Click. Console script entry point will match the project_slug. Options: \\['click', \"No command-line interface\"\\] except above settings, for CI/CD, you'll also need configure gitub repsitory secrets at page repo > settings > secrtes, and add the following secrets: PERSONAL_TOKEN (required for publishing document to git pages) TEST_PYPI_API_TOKEN (required for publishing dev release to testpypi) PYPI_API_TOKEN (required for publish ) -->","title":"FAQ"},{"location":"faq/#explain-these-github-workflows-yml-files","text":"dev.yml : define dev workflow, run on every push and pull requests to master, basically run all the tests against multiple versions and platforms. preview.yml : define stage & preview workflow, run on every push to master, publish dev build to TestPyPI. release.yml : define release & publish workflow, run on every tag push, create GitHub release, publish docs to GitHub Pages and built package to PyPI. Question","title":"Explain these GitHub workflows .yml files?"},{"location":"faq/#why-not-travis-ci","text":"Travis CI is a great service, however, GitHub actions is super convenient, less configuration, better integration. Less configuration, less error prone. Question","title":"Why not travis CI?"},{"location":"faq/#why-not-read-the-docs","text":"Same reason as above. GitHub Pages is convenient than read the docs, it requires no further configuration, except access token. As to read the docs, you need to write v2 config file, plus several settings on web pages. Question","title":"Why not read the docs?"},{"location":"faq/#why-mkdocs-over-sphinx","text":"reStructured Text and Sphinx is way too tedious, though powerful. With extension, you'll find almost all features are available in mkdocs, in a neat and productive way. Poetry and Markdown, are the two key factors driven me develop this template. Question","title":"Why mkdocs over sphinx?"},{"location":"faq/#what-are-the-configuration-items","text":"[TBDL] <!-- Here is a list: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 ## Templated Values The following appear in various parts of your generated project. project_name The name of your new Python package project. This is used in documentation, so spaces and any characters are fine here. project_slug The name of your Python package for PyPI, also as the repository name of GitHub. Typically, it is the slugified version of project_name. pkg_name The namespace of your Python package. This should be Python import-friendly. project_short_description A 1-sentence description of what your Python package does. full_name Your full name. email Your email address. GitHub_username Your GitHub username. version The starting version number of the package. use_mypy If use mypy for static type check in pre-commit hooks and tox. install_precommit_hooks If you choose yes, then cookiecutter will install pre-commit hooks for you. docstrings_style one of `google, numpy, pep257`. It's required by flake8-docstrings. ## Options The following package configuration options set up different features for your project. command_line_interface Whether to create a console script using Python Click. Console script entry point will match the project_slug. Options: \\['click', \"No command-line interface\"\\] except above settings, for CI/CD, you'll also need configure gitub repsitory secrets at page repo > settings > secrtes, and add the following secrets: PERSONAL_TOKEN (required for publishing document to git pages) TEST_PYPI_API_TOKEN (required for publishing dev release to testpypi) PYPI_API_TOKEN (required for publish ) -->","title":"What are the configuration items?"},{"location":"history/","text":"History \u00b6","title":"History"},{"location":"history/#history","text":"","title":"History"},{"location":"pypi_release_checklist/","text":"PyPI Release Checklist \u00b6 Before Your First Release \u00b6 You better visit PyPI to make sure your package name is unused. For Every Release \u00b6 Make some pull requests, merge all changes from feature branch to master/main. Update CHANGELOG.md manually. Make sure it follows the Keep a Changelog standard. Be noticed that GitHub workflow will read changelog and extract release notes automatically. Commit the changelog changes: 1 2 git add CHANGELOG.md git commit -m \"Changelog for upcoming release 0.1.1.\" Update version number and automatically create a commit, tag (can also be patch or major). 1 poetry run bump2version minor Run the tests locally for insurance: 1 poetry run tox Push these commits to master/main: 1 git push Before proceeding to the next step, please check workflows triggered by this push have passed. Push the tags(created by bump2version) to master/main, creating the new release on both GitHub and PyPI: 1 git push --tags Only tag name started with 'v'(lower case) will leverage GitHub release workflow. Check the PyPI listing page to make sure that the README, release notes, and roadmap display properly. If tox test passed, this should be ok, since we have already run twine check during tox test. About This Checklist \u00b6 This checklist is adapted from https://cookiecutter-pypackage.readthedocs.io/en/latest/pypi_release_checklist.html . It assumes that you are using all features of Cookiecutter PyPackage.","title":"Release checklist"},{"location":"pypi_release_checklist/#pypi-release-checklist","text":"","title":"PyPI Release Checklist"},{"location":"pypi_release_checklist/#before-your-first-release","text":"You better visit PyPI to make sure your package name is unused.","title":"Before Your First Release"},{"location":"pypi_release_checklist/#for-every-release","text":"Make some pull requests, merge all changes from feature branch to master/main. Update CHANGELOG.md manually. Make sure it follows the Keep a Changelog standard. Be noticed that GitHub workflow will read changelog and extract release notes automatically. Commit the changelog changes: 1 2 git add CHANGELOG.md git commit -m \"Changelog for upcoming release 0.1.1.\" Update version number and automatically create a commit, tag (can also be patch or major). 1 poetry run bump2version minor Run the tests locally for insurance: 1 poetry run tox Push these commits to master/main: 1 git push Before proceeding to the next step, please check workflows triggered by this push have passed. Push the tags(created by bump2version) to master/main, creating the new release on both GitHub and PyPI: 1 git push --tags Only tag name started with 'v'(lower case) will leverage GitHub release workflow. Check the PyPI listing page to make sure that the README, release notes, and roadmap display properly. If tox test passed, this should be ok, since we have already run twine check during tox test.","title":"For Every Release"},{"location":"pypi_release_checklist/#about-this-checklist","text":"This checklist is adapted from https://cookiecutter-pypackage.readthedocs.io/en/latest/pypi_release_checklist.html . It assumes that you are using all features of Cookiecutter PyPackage.","title":"About This Checklist"},{"location":"tutorial/","text":"Tutorial \u00b6 Note Did you find this article confusing? [Edit this file] and pull a request! To start with, you will need GitHub , PyPI , TestPyPI and Codecov account. If you don't have one, please follow the links to apply one before you get started on this tutorial. If you are new to Git and GitHub, you should probably spend a few minutes on some tutorials at the top of the page at GitHub Help . Step 1: Install Cookiecutter \u00b6 Install cookiecutter: 1 pip install cookiecutter Step 2: Generate Your Package \u00b6 Now it's time to generate your Python package. Run the following command and feed with answers, If you don\u2019t know what to enter, stick with the defaults: 1 cookiecutter https://github.com/pcah/pca-scaffold.git Finally, a new folder will be created under current folder, the name is the answer you provided to project_slug . Go to this generated folder, the project layout should look like: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 . \u251c\u2500\u2500 .bumpversion.cfg \u251c\u2500\u2500 .editorconfig \u251c\u2500\u2500 .github \u2502 \u251c\u2500\u2500 ISSUE_TEMPLATE.md \u2502 \u2514\u2500\u2500 workflows \u2502 \u251c\u2500\u2500 dev.yml \u2502 \u251c\u2500\u2500 preview.yml \u2502 \u2514\u2500\u2500 release.yml \u251c\u2500\u2500 .gitignore \u251c\u2500\u2500 .pre-commit-config.yaml \u251c\u2500\u2500 CHANGELOG.md \u251c\u2500\u2500 CONTRIBUTING.md \u251c\u2500\u2500 LICENSE \u251c\u2500\u2500 README.md \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 api.md \u2502 \u251c\u2500\u2500 changelog.md \u2502 \u251c\u2500\u2500 contributing.md \u2502 \u251c\u2500\u2500 index.md \u2502 \u251c\u2500\u2500 installation.md \u2502 \u2514\u2500\u2500 usage.md \u251c\u2500\u2500 makefile \u251c\u2500\u2500 mkdocs.yml \u251c\u2500\u2500 my_package \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 cli.py \u2502 \u2514\u2500\u2500 my_package.py \u251c\u2500\u2500 pyproject.toml \u251c\u2500\u2500 setup.cfg \u2514\u2500\u2500 tests \u251c\u2500\u2500 __init__.py \u2514\u2500\u2500 test_my_package.py Here the project_slug is my-package , when you generate yours, it could be other name. Also be noticed that there's pyproject.toml in this folder. This is the main configuration file of our project. Step 3: Install Poetry \u00b6 In this step we will install Poetry if you are not using it, since the whole project is managed by it. 1 pip install poetry In addition, Poetry provides a custom installer that will install poetry isolated from the rest of your system by vendorizing its dependencies. This is the recommended way of installing poetry. Step 4: Install Dev Requirements \u00b6 You should still be in the folder named as project_slug , which containing the pyproject.toml file. Install the new project's local development requirements with poetry install : 1 2 poetry install -E doc -E dev -E test poetry run tox Poetry will create its own virtualenv isolated from your system and install the dependencies in it. We installed extra dependency need by developer with -E {group} options, such as documentation build tools, lint, formatting and test tools etc. We also launch a smoke test here by running poetry run tox . This will run tox within created virtual environment, give you a test report and lint report. You should see no errors except some lint warnings. You can also activate the virtual environment manually with poetry shell , this will create a new shell. Tips Extra dependencies are grouped into three groups, doc, dev and test for better granularity. When you ship the package, dependencies in group doc, dev and test might not be shipped. As the developer, you will need install all the dependencies. Tips if you found erros like the following during tox run: 1 ERROR: InterpreterNotFound: python3.9 don't be panic, this is just because python3.x is not found on your machine. If you decide to support that version of Python in your package, please install it on your machine. Otherwise, remove it from tox.ini and pyproject.toml (search python3.x then remove it). Step 5: Create a GitHub Repo \u00b6 Go to your GitHub account and create a new repo named my-package , where my-package matches the project_slug from your answers to running cookiecutter. Then go to repo > settings > secrets, click on 'New repository secret', add the following secrets: TEST_PYPI_API_TOKEN, see How to apply TestPyPI token PYPI_API_TOKEN, see How to apply pypi token PERSONAL_TOKEN, see How to apply personal token Step 6: Set Up codecov integration \u00b6 Tips If you have already setup codecov integration and configured access for all your repositories, you can skip this step. In your browser, visit install codecov app , you'll be landed at this page: Click on the green install button at top right, choose all repositories then click on install button, following directions until all set. If the repo you created is a private repo, you need to set the following additional secrets, which is not required for public repos: CODECOV_TOKEN, see Codecov GitHub Action \u2014 Usage Step 7: Upload code to GitHub \u00b6 Back to your develop environment, find the folder named after the project_slug . Move into this folder, and then setup git to use your GitHub repo and upload the code: 1 2 3 4 5 6 7 cd my-package git add . git commit -m \"Initial commit.\" git branch -M main git remote add origin git@github.com:myusername/my-package.git git push -u origin main Where myusername and my-package are adjusted for your username and repo name. You'll need a ssh key to push the repo. You can Generate a key or Add an existing one. Warning if you answered 'yes' to the question if install pre-commit hooks at last step, then you should find pre-commit be invoked when you run git commit , and some files may be modified by hooks. If so, please add these files and commit again . Check result \u00b6 After pushing your code to GitHub, go to GitHub web page, navigate to your repo, then click on actions link, you should find screen like this: There should be some workflows running. After they finished, go to TestPyPI , check if a new artifact is published under the name project_slug . Step 8. Check documentation \u00b6 Documentation will be published and available at https://{your_github_account}.github.io/{your_repo } once: the commit is tagged, and the tag name is started with 'v' (lower case) build/testing executed by GitHub CI passed If you'd like to see what it's look like now, you could run the following command: 1 poetry run mkdocs serve This will run the builtin development server for you to preview. Step 9. Make official release \u00b6 After done with your phased development in a feature branch, make a pull request, following instructions at release checklist , trigger first official release and check result at PyPI .","title":"Tutorial"},{"location":"tutorial/#tutorial","text":"Note Did you find this article confusing? [Edit this file] and pull a request! To start with, you will need GitHub , PyPI , TestPyPI and Codecov account. If you don't have one, please follow the links to apply one before you get started on this tutorial. If you are new to Git and GitHub, you should probably spend a few minutes on some tutorials at the top of the page at GitHub Help .","title":"Tutorial"},{"location":"tutorial/#step-1-install-cookiecutter","text":"Install cookiecutter: 1 pip install cookiecutter","title":"Step 1: Install Cookiecutter"},{"location":"tutorial/#step-2-generate-your-package","text":"Now it's time to generate your Python package. Run the following command and feed with answers, If you don\u2019t know what to enter, stick with the defaults: 1 cookiecutter https://github.com/pcah/pca-scaffold.git Finally, a new folder will be created under current folder, the name is the answer you provided to project_slug . Go to this generated folder, the project layout should look like: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 . \u251c\u2500\u2500 .bumpversion.cfg \u251c\u2500\u2500 .editorconfig \u251c\u2500\u2500 .github \u2502 \u251c\u2500\u2500 ISSUE_TEMPLATE.md \u2502 \u2514\u2500\u2500 workflows \u2502 \u251c\u2500\u2500 dev.yml \u2502 \u251c\u2500\u2500 preview.yml \u2502 \u2514\u2500\u2500 release.yml \u251c\u2500\u2500 .gitignore \u251c\u2500\u2500 .pre-commit-config.yaml \u251c\u2500\u2500 CHANGELOG.md \u251c\u2500\u2500 CONTRIBUTING.md \u251c\u2500\u2500 LICENSE \u251c\u2500\u2500 README.md \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 api.md \u2502 \u251c\u2500\u2500 changelog.md \u2502 \u251c\u2500\u2500 contributing.md \u2502 \u251c\u2500\u2500 index.md \u2502 \u251c\u2500\u2500 installation.md \u2502 \u2514\u2500\u2500 usage.md \u251c\u2500\u2500 makefile \u251c\u2500\u2500 mkdocs.yml \u251c\u2500\u2500 my_package \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 cli.py \u2502 \u2514\u2500\u2500 my_package.py \u251c\u2500\u2500 pyproject.toml \u251c\u2500\u2500 setup.cfg \u2514\u2500\u2500 tests \u251c\u2500\u2500 __init__.py \u2514\u2500\u2500 test_my_package.py Here the project_slug is my-package , when you generate yours, it could be other name. Also be noticed that there's pyproject.toml in this folder. This is the main configuration file of our project.","title":"Step 2: Generate Your Package"},{"location":"tutorial/#step-3-install-poetry","text":"In this step we will install Poetry if you are not using it, since the whole project is managed by it. 1 pip install poetry In addition, Poetry provides a custom installer that will install poetry isolated from the rest of your system by vendorizing its dependencies. This is the recommended way of installing poetry.","title":"Step 3: Install Poetry"},{"location":"tutorial/#step-4-install-dev-requirements","text":"You should still be in the folder named as project_slug , which containing the pyproject.toml file. Install the new project's local development requirements with poetry install : 1 2 poetry install -E doc -E dev -E test poetry run tox Poetry will create its own virtualenv isolated from your system and install the dependencies in it. We installed extra dependency need by developer with -E {group} options, such as documentation build tools, lint, formatting and test tools etc. We also launch a smoke test here by running poetry run tox . This will run tox within created virtual environment, give you a test report and lint report. You should see no errors except some lint warnings. You can also activate the virtual environment manually with poetry shell , this will create a new shell. Tips Extra dependencies are grouped into three groups, doc, dev and test for better granularity. When you ship the package, dependencies in group doc, dev and test might not be shipped. As the developer, you will need install all the dependencies. Tips if you found erros like the following during tox run: 1 ERROR: InterpreterNotFound: python3.9 don't be panic, this is just because python3.x is not found on your machine. If you decide to support that version of Python in your package, please install it on your machine. Otherwise, remove it from tox.ini and pyproject.toml (search python3.x then remove it).","title":"Step 4: Install Dev Requirements"},{"location":"tutorial/#step-5-create-a-github-repo","text":"Go to your GitHub account and create a new repo named my-package , where my-package matches the project_slug from your answers to running cookiecutter. Then go to repo > settings > secrets, click on 'New repository secret', add the following secrets: TEST_PYPI_API_TOKEN, see How to apply TestPyPI token PYPI_API_TOKEN, see How to apply pypi token PERSONAL_TOKEN, see How to apply personal token","title":"Step 5: Create a GitHub Repo"},{"location":"tutorial/#step-6-set-up-codecov-integration","text":"Tips If you have already setup codecov integration and configured access for all your repositories, you can skip this step. In your browser, visit install codecov app , you'll be landed at this page: Click on the green install button at top right, choose all repositories then click on install button, following directions until all set. If the repo you created is a private repo, you need to set the following additional secrets, which is not required for public repos: CODECOV_TOKEN, see Codecov GitHub Action \u2014 Usage","title":"Step 6: Set Up codecov integration"},{"location":"tutorial/#step-7-upload-code-to-github","text":"Back to your develop environment, find the folder named after the project_slug . Move into this folder, and then setup git to use your GitHub repo and upload the code: 1 2 3 4 5 6 7 cd my-package git add . git commit -m \"Initial commit.\" git branch -M main git remote add origin git@github.com:myusername/my-package.git git push -u origin main Where myusername and my-package are adjusted for your username and repo name. You'll need a ssh key to push the repo. You can Generate a key or Add an existing one. Warning if you answered 'yes' to the question if install pre-commit hooks at last step, then you should find pre-commit be invoked when you run git commit , and some files may be modified by hooks. If so, please add these files and commit again .","title":"Step 7: Upload code to GitHub"},{"location":"tutorial/#check-result","text":"After pushing your code to GitHub, go to GitHub web page, navigate to your repo, then click on actions link, you should find screen like this: There should be some workflows running. After they finished, go to TestPyPI , check if a new artifact is published under the name project_slug .","title":"Check result"},{"location":"tutorial/#step-8-check-documentation","text":"Documentation will be published and available at https://{your_github_account}.github.io/{your_repo } once: the commit is tagged, and the tag name is started with 'v' (lower case) build/testing executed by GitHub CI passed If you'd like to see what it's look like now, you could run the following command: 1 poetry run mkdocs serve This will run the builtin development server for you to preview.","title":"Step 8. Check documentation"},{"location":"tutorial/#step-9-make-official-release","text":"After done with your phased development in a feature branch, make a pull request, following instructions at release checklist , trigger first official release and check result at PyPI .","title":"Step 9. Make official release"}]}